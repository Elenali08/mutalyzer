Installation instructions.

1) Install dependencies.

  If you are on Debian or Ubuntu, you can use the following command to
  install all dependencies:

    $ sudo bash extras/pre-install-debian.sh

  Otherwise, install them manually (perhaps have a look in the above script
  for a useful dependency list). Also, step 3 below might assume some
  locations that are not standard for your distribution (so keep an eye on
  that).

2) Install Mutalyzer.

  Mutalyzer can be installed using Python setuptools. For a production
  environment:

    $ sudo python setup.py install

  Alternatively, if you want to have a development environment, use:

    $ sudo python setup.py develop

  The development environment uses symlinks to this source directory, so
  you can develop from here.

3) Create configuration files, setup database.

  Just run:

    $ sudo bash extras/post-install.sh

4) Test the installation.

  You should always test the installation by running:

    $ MUTALYZER_ENV=test nosetests


This program depends on the following packages:
- mysql-server     >= 5.0.0
- python           >= 2.5.2
- python-mysqldb   >= 1.2.2
- python-biopython >= 1.54
- python-pyparsing >= 1.5.0
- python-configobj >= 4.4.0
- python-simpletal >= 4.1-6
- python-soappy    >= 0.12.0-2
- python-magic     >= 5.04-2
- python-psutil    >= 0.1.3-1
- python-xlrd      >= 0.6.1-2
- python-daemon	   >= 1.5.5
- python-webpy     >= 0.33
- python-webtest   >= 1.2.3
- python-suds      >= 0.3.9-1
- python-nose      >= 0.11

The web and SOAP interfaces depend on the following packages:
- apache2               >= 2.2.11
- libapache2-mod-wsgi   >= 2.8
- python-soaplib        >= 2.0.0-alpha1


Below is the old install.sh script, but it is a bit outdated:

#!/bin/sh

updateCron() {
  cron_entry="$1 python `pwd`/src/$2.py"

  if ! `crontab -l | grep "$cron_entry" > /dev/null`; then
    echo "Updating cron entry."
    if `crontab -l | grep $2 > /dev/null`; then
      echo "Removing old entry."
      crontab -l | grep -v $2 | crontab
    fi
    echo "Installing new entry."
    (
      crontab -l
      echo $cron_entry
    ) | crontab
  fi
}

if `echo $0 | grep '/' > /dev/null`; then
  echo "Please run this script from the installation directory."
  exit 1
fi

updateCron "25 6 \* \* \*" "UCSC_update"
updateCron "*/1 \* \* \* \*" "BatchChecker"

cat << EOF > .htaccess
SetHandler mod_python
PythonHandler src/handler
PythonPath "sys.path + ['`pwd`/src']"
PythonDebug On

RewriteEngine on
RewriteRule Variant_info.php Variant_info
RewriteRule .*bugtracker.* https://www.mutalyzer.nl/projects/mutalyzer2/
EOF

chmod go+rx . src src/Modules templates
chmod go+r .htaccess mutalyzer.conf src/*.py src/Modules/*.py templates/*
chmod go+rw var
